<!DOCTYPE html>
<html>
  <head>
    <title>Hello Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
      body {
        font-family: sans-serif;
        background: #f2f2f2;
        margin: 0;
        padding: 20px;
      }
    </style>
  </head>
  <body>
    <h1>Hello from Telegram Mini App üëã</h1>
    <p id="username"></p>
    <button id="buyStars">–ö—É–ø–∏—Ç—å –∑–≤—ë–∑–¥—ã</button>
    <script>
      const tg = window.Telegram.WebApp;
      tg.ready();
      const start_param = tg.initDataUnsafe.start_param;
      document.getElementById('username').innerText =
        "User: " + (tg.initDataUnsafe?.user?.username || "unknown") +", Start Param: " + start_param;

      document.getElementById('buyStars').addEventListener('click', () => {
      if (!tg.requestStars) {
        alert("requestStars –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ —ç—Ç–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.");
        return;
      }
      tg.requestStars({
        onSuccess: (result) => {
          console.log('–£—Å–ø–µ—Ö!', result);
          alert('–ü–æ–∫—É–ø–∫–∞ –∑–≤—ë–∑–¥ —É—Å–ø–µ—à–Ω–∞!');
        },
        onError: (error) => {
          console.error('–û—à–∏–±–∫–∞ –ø–æ–∫—É–ø–∫–∏:', error);
          alert('–û—à–∏–±–∫–∞ –ø–æ–∫—É–ø–∫–∏: ' + JSON.stringify(error));
        }
      });
    });
    </script>
  </body>
</html>